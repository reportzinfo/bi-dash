<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZXY International - Intelligence Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px 30px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .header-title {
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
        }

        .header-subtitle {
            font-size: 14px;
            color: #7f8c8d;
            margin-top: 2px;
        }

        .header-controls {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .time-selector, .refresh-btn {
            padding: 8px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            background: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .time-selector:hover, .refresh-btn:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #27ae60;
            font-weight: 500;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #27ae60;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .navigation-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            overflow-x: auto;
            padding: 5px;
        }

        .nav-tab {
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab:hover {
            background: rgba(255, 255, 255, 1);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .nav-tab.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .kpi-banner {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .business-metrics-banner {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
            padding: 20px 0;
            border-bottom: 2px solid rgba(30, 58, 138, 0.1);
        }

        .kpi-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .kpi-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
        }

        .kpi-icon.sales { background: linear-gradient(45deg, #3498db, #2980b9); }
        .kpi-icon.manufacturing { background: linear-gradient(45deg, #27ae60, #229954); }
        .kpi-icon.logistics { background: linear-gradient(45deg, #f39c12, #e67e22); }
        .kpi-icon.financial { background: linear-gradient(45deg, #9b59b6, #8e44ad); }

        .kpi-value {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .kpi-label {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 10px;
        }

        .kpi-title {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .kpi-trend {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
            font-weight: 500;
        }

        .trend-positive { color: #27ae60; }
        .trend-negative { color: #e74c3c; }

        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .funnel-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .funnel-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
        }

        .funnel-stage {
            text-align: center;
            flex: 1;
            position: relative;
        }

        .funnel-stage:not(:last-child)::after {
            content: '→';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 20px;
            color: #bdc3c7;
        }

        .funnel-number {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .funnel-label {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .funnel-rate {
            font-size: 11px;
            color: #27ae60;
            font-weight: 500;
        }

        .alerts-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .alert-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .alert-item:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .alert-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
            flex-shrink: 0;
        }

        .alert-high { background: #e74c3c; }
        .alert-medium { background: #f39c12; }
        .alert-low { background: #3498db; }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-size: 14px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 3px;
        }

        .alert-description {
            font-size: 12px;
            color: #7f8c8d;
            line-height: 1.4;
        }

        /* Quarterly Data Table Styles */
        .quarterly-data-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
        }

        .quarterly-table-container {
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .quarterly-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .quarterly-table thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .quarterly-table th {
            padding: 15px 20px;
            text-align: left;
            font-weight: 600;
            color: white;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .quarterly-table tbody tr {
            transition: all 0.3s ease;
            border-bottom: 1px solid #f1f3f4;
        }

        .quarterly-table tbody tr:hover {
            background: rgba(102, 126, 234, 0.05);
            transform: scale(1.01);
        }

        .quarterly-table tbody tr:last-child {
            border-bottom: none;
        }

        .quarterly-table td {
            padding: 12px 20px;
            font-size: 14px;
            color: #2c3e50;
        }

        .year-cell {
            font-weight: 700;
            font-size: 16px;
            background: rgba(102, 126, 234, 0.1);
            border-right: 3px solid #667eea;
            text-align: center;
            vertical-align: middle;
        }

        .quarter-cell {
            font-weight: 600;
            color: #667eea;
        }

        .budget-cell, .turnover-cell {
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        .difference-cell {
            font-weight: 700;
            text-align: center;
            border-radius: 6px;
            padding: 8px 12px;
            font-family: 'Courier New', monospace;
        }

        .difference-cell.positive {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .difference-cell.negative {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .margin-cell {
            font-weight: 700;
            text-align: center;
            border-radius: 6px;
            padding: 8px 12px;
        }

        .margin-cell.positive {
            background: linear-gradient(135deg, #d4edda, #c3e6cb);
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .margin-cell.negative {
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .quarterly-table th.year-header {
            background: rgba(0, 0, 0, 0.2);
        }

        .quarterly-table th.quarter-header {
            background: rgba(0, 0, 0, 0.1);
        }

        .quarterly-table th.budget-header {
            background: rgba(52, 152, 219, 0.2);
        }

        .quarterly-table th.turnover-header {
            background: rgba(46, 204, 113, 0.2);
        }

        .quarterly-table th.difference-header {
            background: rgba(243, 156, 18, 0.2);
        }

        .quarterly-table th.margin-header {
            background: rgba(155, 89, 182, 0.2);
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .chart-container:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .chart-placeholder {
            height: 250px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
            font-style: italic;
            margin-top: 15px;
        }

        .interactive-funnel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .funnel-visual {
            margin-bottom: 25px;
        }

        .funnel-bar {
            margin: 8px 0;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .funnel-bar:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .funnel-fill {
            height: 100%;
            border-radius: 25px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            transition: width 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .funnel-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .funnel-text {
            color: white;
            font-weight: 600;
            font-size: 14px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            z-index: 1;
            position: relative;
        }

        .funnel-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .metric-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .metric-card:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* AI Prompt Card Styles */
        .ai-prompt-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(240, 248, 255, 0.95));
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(74, 144, 226, 0.2);
            transition: all 0.3s ease;
        }

        .ai-prompt-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .ai-prompt-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(74, 144, 226, 0.2);
        }

        .ai-icon {
            font-size: 24px;
            margin-right: 12px;
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ai-prompt-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin: 0;
        }

        .ai-prompt-content {
            margin-bottom: 20px;
        }

        .ai-prompt-text {
            background: rgba(74, 144, 226, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #4A90E2;
        }

        .ai-prompt-text p {
            margin: 0;
            color: #34495e;
            line-height: 1.6;
            font-size: 14px;
        }

        .ai-prompt-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .ai-action-btn {
            padding: 8px 16px;
            border-radius: 8px;
            border: none;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .ai-action-btn.primary {
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            color: white;
        }

        .ai-action-btn.primary:hover {
            background: linear-gradient(135deg, #357ABD, #2E6DA4);
            transform: translateY(-1px);
        }

        .ai-action-btn.secondary {
            background: rgba(74, 144, 226, 0.1);
            color: #4A90E2;
            border: 1px solid rgba(74, 144, 226, 0.3);
        }

        .ai-action-btn.secondary:hover {
            background: rgba(74, 144, 226, 0.2);
            transform: translateY(-1px);
        }

        .ai-prompt-input {
            display: flex;
            gap: 10px;
            align-items: center;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            padding: 8px;
            border: 1px solid rgba(74, 144, 226, 0.2);
        }

        .ai-input-field {
            flex: 1;
            border: none;
            background: transparent;
            padding: 8px 12px;
            font-size: 14px;
            color: #2c3e50;
            outline: none;
        }

        .ai-input-field::placeholder {
            color: #7f8c8d;
        }

        .ai-send-btn {
            background: linear-gradient(135deg, #4A90E2, #357ABD);
            border: none;
            border-radius: 8px;
            padding: 8px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ai-send-btn:hover {
            background: linear-gradient(135deg, #357ABD, #2E6DA4);
            transform: scale(1.05);
        }

        .filters-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .filters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-label {
            font-size: 12px;
            font-weight: 500;
            color: #2c3e50;
        }

        .filter-select {
            padding: 8px 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            background: white;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-select:hover, .filter-select:focus {
            border-color: #667eea;
            outline: none;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        @media (max-width: 768px) {
            .dashboard-container {
                padding: 15px;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .kpi-banner {
                grid-template-columns: 1fr;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Bubble Chart Styles */
        .bubble-chart {
            position: relative;
            width: 100%;
        }

        .bubble-chart .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .bubble-chart .chart-header h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 18px;
            font-weight: 600;
        }

        .chart-legend {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #7f8c8d;
        }

        .legend-bubble {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid;
        }

        .legend-bubble.high-value {
            background: rgba(46, 204, 113, 0.7);
            border-color: #2ecc71;
        }

        .legend-bubble.medium-value {
            background: rgba(52, 152, 219, 0.7);
            border-color: #3498db;
        }

        .legend-bubble.low-value {
            background: rgba(241, 196, 15, 0.7);
            border-color: #f1c40f;
        }

        .customer-bubble-chart {
            width: 100%;
            height: 400px;
            background: linear-gradient(135deg, rgba(52, 73, 94, 0.1), rgba(44, 62, 80, 0.05));
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .customer-bubble {
            cursor: pointer;
            transition: all 0.3s ease;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
        }

        .customer-bubble:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.3));
        }

        .bubble-tooltip {
            position: absolute;
            background: rgba(44, 62, 80, 0.95);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .bubble-tooltip.show {
            opacity: 1;
        }

        .bubble-insights {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .insight-card {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.05));
            border: 1px solid rgba(52, 152, 219, 0.2);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .insight-title {
            font-size: 12px;
            font-weight: 600;
            color: #3498db;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .insight-text {
            font-size: 11px;
            color: #7f8c8d;
            line-height: 1.4;
        }

        /* AI Insights Dashboard Styles */
        .ai-insights-dashboard {
            padding: 20px;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .insights-grid > div {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .insights-grid h4 {
            margin: 0 0 15px 0;
            color: #fff;
            font-size: 16px;
            font-weight: 600;
        }

        /* Model Performance */
        .model-metrics {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .metric-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .metric-label {
            color: #bdc3c7;
            font-size: 12px;
        }

        .metric-value {
            color: #fff;
            font-weight: bold;
            font-size: 14px;
        }

        .metric-trend {
            font-size: 11px;
            padding: 2px 6px;
            border-radius: 4px;
        }

        .metric-trend.positive {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }

        .metric-trend.negative {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }

        /* Anomaly Detection */
        .anomaly-alerts {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .anomaly-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .anomaly-item.critical {
            background: rgba(231, 76, 60, 0.1);
            border-left-color: #e74c3c;
        }

        .anomaly-item.warning {
            background: rgba(241, 196, 15, 0.1);
            border-left-color: #f1c40f;
        }

        .anomaly-icon {
            font-size: 16px;
        }

        .anomaly-title {
            color: #fff;
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .anomaly-desc {
            color: #bdc3c7;
            font-size: 11px;
            margin-bottom: 4px;
        }

        .anomaly-time {
            color: #7f8c8d;
            font-size: 10px;
        }

        /* Recommendations */
        .recommendation-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .recommendation-item {
            display: flex;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .rec-priority {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            min-width: 50px;
            text-align: center;
        }

        .rec-priority.high {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }

        .rec-priority.medium {
            background: rgba(241, 196, 15, 0.2);
            color: #f1c40f;
        }

        .rec-priority.low {
            background: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }

        .rec-title {
            color: #fff;
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .rec-desc {
            color: #bdc3c7;
            font-size: 11px;
            margin-bottom: 4px;
        }

        .rec-impact {
            color: #3498db;
            font-size: 11px;
            font-weight: 600;
        }

        /* Predictive Maintenance */
        .maintenance-schedule {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .maintenance-item {
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .maintenance-item.urgent {
            background: rgba(231, 76, 60, 0.1);
            border-left-color: #e74c3c;
        }

        .maintenance-item.scheduled {
            background: rgba(241, 196, 15, 0.1);
            border-left-color: #f1c40f;
        }

        .maintenance-item.good {
            background: rgba(46, 204, 113, 0.1);
            border-left-color: #2ecc71;
        }

        .equipment-name {
            color: #fff;
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
        }

        .maintenance-date {
            color: #bdc3c7;
            font-size: 11px;
            margin-bottom: 4px;
        }

        .failure-probability {
            color: #7f8c8d;
            font-size: 10px;
        }

        /* Market Intelligence */
        .market-insights {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .insight-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .insight-icon {
            font-size: 16px;
        }

        .insight-text {
            color: #bdc3c7;
            font-size: 12px;
            line-height: 1.4;
        }

        /* AI Training Status */
        .training-status {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .training-item {
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .model-name {
            color: #fff;
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 8px;
        }

        .training-progress {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 6px;
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2ecc71);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .progress-text {
            color: #bdc3c7;
            font-size: 11px;
            min-width: 80px;
        }

        .training-eta {
            color: #7f8c8d;
            font-size: 10px;
        }

        /* Sales Pipeline Dashboard Styles */
        .sales-pipeline-dashboard {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            margin: 20px 0;
        }

        .pipeline-analytics-header {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .pipeline-metric {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.2s ease;
        }

        .pipeline-metric:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }

        .metric-label {
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .metric-value {
            font-size: 28px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .metric-trend {
            font-size: 12px;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 12px;
            display: inline-block;
        }

        .metric-trend.positive {
            background: #d4edda;
            color: #155724;
        }

        .metric-trend.negative {
            background: #f8d7da;
            color: #721c24;
        }

        .pipeline-container {
            display: flex;
            gap: 20px;
            overflow-x: auto;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        .pipeline-stage {
            min-width: 280px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .stage-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            text-align: center;
        }

        .stage-header h4 {
            margin: 0 0 10px 0;
            font-size: 16px;
            font-weight: 600;
        }

        .stage-stats {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            opacity: 0.9;
        }

        .deals-container {
            padding: 15px;
            min-height: 400px;
            max-height: 500px;
            overflow-y: auto;
        }

        .deal-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .deal-card:hover {
            border-color: #667eea;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .deal-card.won {
            background: #d4edda;
            border-color: #28a745;
        }

        .deal-card.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }

        .deal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .company-name {
            font-weight: 600;
            color: #2c3e50;
            font-size: 14px;
        }

        .deal-value {
            font-weight: bold;
            color: #27ae60;
            font-size: 14px;
        }

        .deal-details {
            font-size: 12px;
        }

        .contact-info {
            color: #7f8c8d;
            margin-bottom: 8px;
        }

        .deal-progress {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .progress-fill.won {
            background: linear-gradient(90deg, #28a745, #20c997);
        }

        .progress-text {
            font-weight: 600;
            color: #495057;
            min-width: 35px;
        }

        .deal-meta {
            display: flex;
            justify-content: space-between;
            color: #6c757d;
            font-size: 10px;
        }

        .deal-source {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 9px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .pipeline-analytics-footer {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .conversion-rates,
        .pipeline-insights {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .conversion-rates h4,
        .pipeline-insights h4 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            font-size: 16px;
        }

        .conversion-grid {
            display: grid;
            gap: 15px;
        }

        .conversion-item {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: center;
        }

        .conversion-label {
            font-size: 12px;
            color: #495057;
            font-weight: 500;
        }

        .conversion-rate {
            font-weight: bold;
            color: #27ae60;
            font-size: 14px;
            text-align: right;
        }

        .conversion-bar {
            grid-column: 1 / -1;
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
            margin-top: 5px;
        }

        .conversion-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .insight-list {
            display: grid;
            gap: 12px;
        }

        .insight-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .insight-icon {
            font-size: 16px;
        }

        .insight-text {
            font-size: 12px;
            color: #495057;
            line-height: 1.4;
        }

        /* Drag and Drop Styles */
        .pipeline-stage.drag-over {
            background: #e3f2fd;
            border: 2px dashed #2196f3;
        }

        .deal-card.selected {
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .pipeline-container {
                flex-direction: column;
            }
            
            .pipeline-stage {
                min-width: 100%;
            }
            
            .pipeline-analytics-header {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .pipeline-analytics-footer {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="header">
            <div class="logo-section">
                <div class="logo">ZXY</div>
                <div>
                    <div class="header-title"> Intelligence Dashboard</div>
                    <div class="header-subtitle">End-to-End Business Visibility</div>
                </div>
            </div>
            <div class="header-controls">
                <select class="time-selector" id="financial-year-selector">
                    <option value="">Loading financial years...</option>
                </select>
                <button class="refresh-btn">🔄 Refresh</button>
                <div class="live-indicator">
                    <div class="live-dot"></div>
                    Live Data
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="navigation-tabs">
            <button class="nav-tab active" data-tab="executive">📊 Executive Overview</button>
            <button class="nav-tab" data-tab="sales">🎯 Sales Pipeline</button>
            <button class="nav-tab" data-tab="manufacturing">🏭 Manufacturing</button>
            <button class="nav-tab" data-tab="logistics">🚢 Logistics</button>
            <button class="nav-tab" data-tab="financial">💰 Financial</button>
            <button class="nav-tab" data-tab="sustainability">♻️ Sustainability</button>
            <button class="nav-tab" data-tab="analytics">🔮 AI Insights</button>
        </nav>

        <!-- Executive Overview Tab -->
        <div id="executive" class="tab-content active">
            <!-- Global Filters -->
            <div class="filters-panel">
                <div class="filters-grid">
                    <div class="filter-group">
                        <label class="filter-label">Country</label>
                        <select class="filter-select" id="country-selector">
                            <option>All Country</option>
                            <option>Bangladesh</option>
                            <option>Türkiye</option>
                            <option>India</option>
                            <option>Pakistan</option>
                            <option>Egypt</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Customer Group</label>
                        <select class="filter-select" id="customer-group-selector">
                            <option>Select Customer Group</option>
                            <option>Prospects</option>
                            <option>Active Customers</option>
                            <option>Key Accounts</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Product Category</label>
                        <select class="filter-select">
                            <option>All Products</option>
                            <option>Knitwear</option>
                            <option>Woven</option>
                            <option>Denim</option>
                            <option>Accessories</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Business Unit</label>
                        <select class="filter-select">
                            <option>All Units</option>
                            <option>Sales</option>
                            <option>Manufacturing</option>
                            <option>Logistics</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Key Business Metrics Cards -->
            <div class="business-metrics-banner">
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-title sales">Cusromer Order Status</div>
                        <!-- <div class="kpi-trend trend-positive">↗ +12%</div> -->
                    </div>
                    
                    <div class="kpi-content" style="display: flex; gap: 20px;">
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Order Recived</div>
                        </div>
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Carry Forward</div>
                        </div>
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Order In-hand</div>
                        </div>
                    </div>
                    
                </div>
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-title sales">Factory Order Status</div>
                        <!-- <div class="kpi-trend trend-positive">↗ +12%</div> -->
                    </div>
                    
                    <div class="kpi-content" style="display: flex; gap: 20px;">
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Order Recived</div>
                        </div>
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Carry Forward</div>
                        </div>
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Order In-hand</div>
                        </div>
                    </div>
                    
                </div>

                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-title sales">Shipment Status</div>
                        <!-- <div class="kpi-trend trend-positive">↗ +12%</div> -->
                    </div>
                    
                    <div class="kpi-content" style="display: flex; gap: 20px;">
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Total FPO</div>
                        </div>
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Shipped</div>
                        </div>
                        <div style="flex: 1;">
                            <div class="kpi-value">$3.2M</div>
                            <div class="kpi-label">Margin</div>
                        </div>
                    </div>
                    
                </div>
            </div>

            <!-- KPI Banner -->
            

            <!-- Main Content -->
            <div class="main-content">
                <!-- Year by Quarter Table Section -->
                <div class="quarterly-data-section">
                    <h3 class="section-title">📊 Year by Quarter Performance</h3>
                    <div class="quarterly-table-container">
                        <table class="quarterly-table">
                            <thead>
                                <tr>
                                    <th class="year-header">Year</th>
                                    <th class="quarter-header">Quarter</th>
                                    <th class="budget-header">Budget</th>
                                    <th class="turnover-header">Turnover</th>
                                    <th class="difference-header">Difference</th>
                                    <th class="margin-header">Margin</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="data-row">
                                    <td class="year-cell" rowspan="4">2024</td>
                                    <td class="quarter-cell">Q1</td>
                                    <td class="budget-cell">$2.5M</td>
                                    <td class="turnover-cell">$2.8M</td>
                                    <td class="difference-cell positive">+$0.3M</td>
                                    <td class="margin-cell positive">12.0%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q2</td>
                                    <td class="budget-cell">$2.7M</td>
                                    <td class="turnover-cell">$3.1M</td>
                                    <td class="difference-cell positive">+$0.4M</td>
                                    <td class="margin-cell positive">14.8%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q3</td>
                                    <td class="budget-cell">$2.9M</td>
                                    <td class="turnover-cell">$3.3M</td>
                                    <td class="difference-cell positive">+$0.4M</td>
                                    <td class="margin-cell positive">13.8%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q4</td>
                                    <td class="budget-cell">$3.2M</td>
                                    <td class="turnover-cell">$3.5M</td>
                                    <td class="difference-cell positive">+$0.3M</td>
                                    <td class="margin-cell positive">9.4%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="year-cell" rowspan="4">2023</td>
                                    <td class="quarter-cell">Q1</td>
                                    <td class="budget-cell">$2.1M</td>
                                    <td class="turnover-cell">$2.3M</td>
                                    <td class="difference-cell positive">+$0.2M</td>
                                    <td class="margin-cell positive">9.5%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q2</td>
                                    <td class="budget-cell">$2.3M</td>
                                    <td class="turnover-cell">$2.6M</td>
                                    <td class="difference-cell positive">+$0.3M</td>
                                    <td class="margin-cell positive">13.0%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q3</td>
                                    <td class="budget-cell">$2.5M</td>
                                    <td class="turnover-cell">$2.7M</td>
                                    <td class="difference-cell positive">+$0.2M</td>
                                    <td class="margin-cell positive">8.0%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q4</td>
                                    <td class="budget-cell">$2.8M</td>
                                    <td class="turnover-cell">$2.9M</td>
                                    <td class="difference-cell positive">+$0.1M</td>
                                    <td class="margin-cell positive">3.6%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="year-cell" rowspan="4">2022</td>
                                    <td class="quarter-cell">Q1</td>
                                    <td class="budget-cell">$1.8M</td>
                                    <td class="turnover-cell">$1.9M</td>
                                    <td class="difference-cell positive">+$0.1M</td>
                                    <td class="margin-cell positive">5.6%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q2</td>
                                    <td class="budget-cell">$2.0M</td>
                                    <td class="turnover-cell">$2.1M</td>
                                    <td class="difference-cell positive">+$0.1M</td>
                                    <td class="margin-cell positive">5.0%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q3</td>
                                    <td class="budget-cell">$2.1M</td>
                                    <td class="turnover-cell">$2.0M</td>
                                    <td class="difference-cell negative">-$0.1M</td>
                                    <td class="margin-cell negative">-4.8%</td>
                                </tr>
                                <tr class="data-row">
                                    <td class="quarter-cell">Q4</td>
                                    <td class="budget-cell">$2.3M</td>
                                    <td class="turnover-cell">$2.2M</td>
                                    <td class="difference-cell negative">-$0.1M</td>
                                    <td class="margin-cell negative">-4.3%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="funnel-section">
                    <h3 class="section-title">🔄 Scenario of current Fiscal Year</h3>
                    <div class="funnel-container">
                        <div class="funnel-stage">
                            <div class="funnel-number">247</div>
                            <div class="funnel-label">Customer Order</div>
                            <div class="funnel-rate">55%</div>
                        </div>
                        <div class="funnel-stage">
                            <div class="funnel-number">89</div>
                            <div class="funnel-label">Factory Order</div>
                            <div class="funnel-rate">36%</div>
                        </div>
                        <div class="funnel-stage">
                            <div class="funnel-number">21</div>
                            <div class="funnel-label">In Production</div>
                            <div class="funnel-rate">91%</div>
                        </div>
                        <div class="funnel-stage">
                            <div class="funnel-number">19</div>
                            <div class="funnel-label">Shipped</div>
                            <div class="funnel-rate">90%</div>
                        </div>
                    </div>
                                            <div class="funnel-metrics">
                            <div class="metric-card" data-metric="conversion">
                                <div class="metric-value">4.2%</div>
                                <div class="metric-label">Overall Conversion</div>
                            </div>
                            <div class="metric-card" data-metric="cycle">
                                <div class="metric-value">127 days</div>
                                <div class="metric-label">Avg Cycle Time</div>
                            </div>
                            <div class="metric-card" data-metric="value">
                                <div class="metric-value">$2.1M</div>
                                <div class="metric-label">Pipeline Value</div>
                            </div>
                        </div>
                    
                    <!-- AI Prompt Card -->
                    <div class="ai-prompt-card">
                        <div class="ai-prompt-header">
                            <div class="ai-icon">🤖</div>
                            <h4 class="ai-prompt-title">AI Business Insights</h4>
                        </div>
                        <div class="ai-prompt-content">
                            <div class="ai-prompt-text">
                                <p><strong>AI Analysis:</strong> Based on current funnel performance, I recommend focusing on improving the Customer Order to Factory Order conversion rate (currently 36%). Consider implementing automated follow-up sequences for prospects in the 48-72 hour window after initial contact.</p>
                            </div>
                            <div class="ai-prompt-actions">
                                <button class="ai-action-btn primary">Generate Report</button>
                                <button class="ai-action-btn secondary">Ask AI</button>
                                <button class="ai-action-btn secondary">Optimize Funnel</button>
                            </div>
                        </div>
                        <div class="ai-prompt-input">
                            <input type="text" placeholder="Ask AI about your business performance..." class="ai-input-field">
                            <button class="ai-send-btn">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22,2 15,22 11,13 2,9"></polygon>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="alerts-section">
                    <h3 class="section-title">⚡ Real-time Alerts & Insights</h3>
                    <div class="alert-item">
                        <div class="alert-icon alert-high">!</div>
                        <div class="alert-content">
                            <div class="alert-title">High-Value Prospect at Risk</div>
                            <div class="alert-description">Nike prospect ($2.3M) showing decreased engagement. Recommend immediate follow-up.</div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon alert-medium">⚠</div>
                        <div class="alert-content">
                            <div class="alert-title">Production Delay Alert</div>
                            <div class="alert-description">Bangladesh facility running 3 days behind on H&M order. Impact on delivery schedule.</div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon alert-low">ℹ</div>
                        <div class="alert-content">
                            <div class="alert-title">Opportunity Identified</div>
                            <div class="alert-description">Zara showing 25% volume increase pattern. Prepare capacity allocation for Q3.</div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon alert-medium">⚠</div>
                        <div class="alert-content">
                            <div class="alert-title">Compliance Audit Due</div>
                            <div class="alert-description">Türkiye facility compliance audit scheduled in 2 weeks. Preparation required.</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="charts-grid">
                <div class="chart-container">
                    <h3 class="section-title">📈 Revenue & Pipeline Trend</h3>
                    <div class="revenue-pipeline-chart">
                        <div class="chart-header">
                            <h3>12-Month Revenue vs Pipeline</h3>
                            <div class="chart-legend">
                                <span class="legend-item"><span class="legend-color" style="background: #3498db;"></span>Revenue</span>
                                <span class="legend-item"><span class="legend-color" style="background: #e74c3c;"></span>Pipeline</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <svg class="revenue-chart" viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
                                <!-- Grid lines -->
                                <defs>
                                    <pattern id="grid" width="66.67" height="50" patternUnits="userSpaceOnUse">
                                        <path d="M 66.67 0 L 0 0 0 50" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                    </pattern>
                                </defs>
                                <rect width="800" height="300" fill="url(#grid)" />
                                
                                <!-- Y-axis labels -->
                                <text x="30" y="50" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">$2M</text>
                                <text x="30" y="100" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">$1.5M</text>
                                <text x="30" y="150" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">$1M</text>
                                <text x="30" y="200" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">$0.5M</text>
                                <text x="30" y="250" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">$0</text>
                                
                                <!-- Revenue bars -->
                                <rect x="50" y="180" width="45" height="70" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Jan" data-value="700000" data-type="revenue"/>
                                <rect x="116" y="160" width="45" height="90" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Feb" data-value="900000" data-type="revenue"/>
                                <rect x="182" y="140" width="45" height="110" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Mar" data-value="1100000" data-type="revenue"/>
                                <rect x="248" y="120" width="45" height="130" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Apr" data-value="1300000" data-type="revenue"/>
                                <rect x="314" y="100" width="45" height="150" fill="#3498db" opacity="0.8" class="chart-bar" data-month="May" data-value="1500000" data-type="revenue"/>
                                <rect x="380" y="80" width="45" height="170" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Jun" data-value="1700000" data-type="revenue"/>
                                <rect x="446" y="90" width="45" height="160" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Jul" data-value="1600000" data-type="revenue"/>
                                <rect x="512" y="70" width="45" height="180" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Aug" data-value="1800000" data-type="revenue"/>
                                <rect x="578" y="60" width="45" height="190" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Sep" data-value="1900000" data-type="revenue"/>
                                <rect x="644" y="50" width="45" height="200" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Oct" data-value="2000000" data-type="revenue"/>
                                <rect x="710" y="70" width="45" height="180" fill="#3498db" opacity="0.8" class="chart-bar" data-month="Nov" data-value="1800000" data-type="revenue"/>
                                
                                <!-- Pipeline line -->
                                <polyline points="72,120 138,100 204,80 270,70 336,60 402,50 468,55 534,45 600,40 666,35 732,40" 
                                         fill="none" stroke="#e74c3c" stroke-width="3" class="pipeline-line"/>
                                
                                <!-- Pipeline dots -->
                                <circle cx="72" cy="120" r="4" fill="#e74c3c" class="chart-dot" data-month="Jan" data-value="1300000" data-type="pipeline"/>
                                <circle cx="138" cy="100" r="4" fill="#e74c3c" class="chart-dot" data-month="Feb" data-value="1500000" data-type="pipeline"/>
                                <circle cx="204" cy="80" r="4" fill="#e74c3c" class="chart-dot" data-month="Mar" data-value="1700000" data-type="pipeline"/>
                                <circle cx="270" cy="70" r="4" fill="#e74c3c" class="chart-dot" data-month="Apr" data-value="1800000" data-type="pipeline"/>
                                <circle cx="336" cy="60" r="4" fill="#e74c3c" class="chart-dot" data-month="May" data-value="1900000" data-type="pipeline"/>
                                <circle cx="402" cy="50" r="4" fill="#e74c3c" class="chart-dot" data-month="Jun" data-value="2000000" data-type="pipeline"/>
                                <circle cx="468" cy="55" r="4" fill="#e74c3c" class="chart-dot" data-month="Jul" data-value="1950000" data-type="pipeline"/>
                                <circle cx="534" cy="45" r="4" fill="#e74c3c" class="chart-dot" data-month="Aug" data-value="2100000" data-type="pipeline"/>
                                <circle cx="600" cy="40" r="4" fill="#e74c3c" class="chart-dot" data-month="Sep" data-value="2200000" data-type="pipeline"/>
                                <circle cx="666" cy="35" r="4" fill="#e74c3c" class="chart-dot" data-month="Oct" data-value="2300000" data-type="pipeline"/>
                                <circle cx="732" cy="40" r="4" fill="#e74c3c" class="chart-dot" data-month="Nov" data-value="2200000" data-type="pipeline"/>
                                
                                <!-- X-axis labels -->
                                <text x="72" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Jan</text>
                                <text x="138" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Feb</text>
                                <text x="204" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Mar</text>
                                <text x="270" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Apr</text>
                                <text x="336" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">May</text>
                                <text x="402" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Jun</text>
                                <text x="468" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Jul</text>
                                <text x="534" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Aug</text>
                                <text x="600" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Sep</text>
                                <text x="666" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Oct</text>
                                <text x="732" y="280" fill="rgba(255,255,255,0.7)" font-size="11" text-anchor="middle">Nov</text>
                            </svg>
                            <div class="chart-tooltip" id="revenue-tooltip"></div>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <h3 class="section-title">🌍 Global Operations Map</h3>
                    <div class="world-map-chart">
                        <div class="chart-header">
                            <h3>Global Operations Map</h3>
                            <div class="map-legend">
                                <span class="legend-item"><span class="legend-dot factory-dot"></span>Factories (3)</span>
                                <span class="legend-item"><span class="legend-dot customer-dot"></span>Key Customers (12)</span>
                                <span class="legend-item"><span class="legend-dot shipment-dot"></span>Active Shipments (8)</span>
                            </div>
                        </div>
                        <div class="map-container">
                            <svg class="world-map" viewBox="0 0 1000 500" xmlns="http://www.w3.org/2000/svg">
                                <!-- Simplified world map outline -->
                                <defs>
                                    <radialGradient id="factoryGlow" cx="50%" cy="50%" r="50%">
                                        <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:0.8" />
                                        <stop offset="100%" style="stop-color:#e74c3c;stop-opacity:0.2" />
                                    </radialGradient>
                                    <radialGradient id="customerGlow" cx="50%" cy="50%" r="50%">
                                        <stop offset="0%" style="stop-color:#3498db;stop-opacity:0.8" />
                                        <stop offset="100%" style="stop-color:#3498db;stop-opacity:0.2" />
                                    </radialGradient>
                                </defs>
                                
                                <!-- World continents (simplified) -->
                                <path d="M 150 150 Q 200 120 300 140 Q 400 130 450 160 Q 500 180 400 220 Q 300 240 200 220 Q 150 200 150 150 Z" 
                                      fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="1" class="continent"/>
                                <path d="M 500 120 Q 600 100 700 120 Q 800 110 850 140 Q 900 160 850 200 Q 750 220 650 200 Q 550 180 500 150 Z" 
                                      fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="1" class="continent"/>
                                <path d="M 100 280 Q 150 260 250 280 Q 350 270 400 300 Q 450 320 350 360 Q 250 380 150 360 Q 100 340 100 280 Z" 
                                      fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="1" class="continent"/>
                                <path d="M 750 280 Q 800 260 900 280 Q 950 270 980 300 Q 990 320 950 360 Q 850 380 750 360 Q 700 340 750 280 Z" 
                                      fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.3)" stroke-width="1" class="continent"/>
                                
                                <!-- Factory locations -->
                                <circle cx="200" cy="180" r="12" fill="url(#factoryGlow)" class="location-marker factory" 
                                        data-location="Bangladesh Factory" data-type="factory" data-capacity="2000 units/month"/>
                                <circle cx="750" cy="160" r="12" fill="url(#factoryGlow)" class="location-marker factory" 
                                        data-location="Vietnam Factory" data-type="factory" data-capacity="1500 units/month"/>
                                <circle cx="320" cy="320" r="12" fill="url(#factoryGlow)" class="location-marker factory" 
                                        data-location="India Factory" data-type="factory" data-capacity="1800 units/month"/>
                                
                                <!-- Customer locations -->
                                <circle cx="150" cy="140" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="UK - Marks & Spencer" data-type="customer" data-orders="45 active"/>
                                <circle cx="180" cy="130" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="Germany - H&M" data-type="customer" data-orders="32 active"/>
                                <circle cx="120" cy="160" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="France - Zara" data-type="customer" data-orders="28 active"/>
                                <circle cx="80" cy="200" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="USA - Target" data-type="customer" data-orders="67 active"/>
                                <circle cx="90" cy="180" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="USA - Walmart" data-type="customer" data-orders="89 active"/>
                                <circle cx="100" cy="220" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="Canada - Hudson Bay" data-type="customer" data-orders="23 active"/>
                                <circle cx="850" cy="180" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="Japan - Uniqlo" data-type="customer" data-orders="41 active"/>
                                <circle cx="820" cy="200" r="8" fill="url(#customerGlow)" class="location-marker customer" 
                                        data-location="Australia - Myer" data-type="customer" data-orders="19 active"/>
                                
                                <!-- Shipment routes (animated lines) -->
                                <path d="M 200 180 Q 400 100 750 160" fill="none" stroke="#f39c12" stroke-width="2" 
                                      stroke-dasharray="5,5" class="shipment-route" opacity="0.7">
                                    <animate attributeName="stroke-dashoffset" values="0;-10" dur="2s" repeatCount="indefinite"/>
                                </path>
                                <path d="M 320 320 Q 500 250 150 140" fill="none" stroke="#f39c12" stroke-width="2" 
                                      stroke-dasharray="5,5" class="shipment-route" opacity="0.7">
                                    <animate attributeName="stroke-dashoffset" values="0;-10" dur="2s" repeatCount="indefinite"/>
                                </path>
                                <path d="M 750 160 Q 600 120 80 200" fill="none" stroke="#f39c12" stroke-width="2" 
                                      stroke-dasharray="5,5" class="shipment-route" opacity="0.7">
                                    <animate attributeName="stroke-dashoffset" values="0;-10" dur="2s" repeatCount="indefinite"/>
                                </path>
                                
                                <!-- Shipment indicators -->
                                <circle cx="400" cy="140" r="4" fill="#f39c12" class="shipment-indicator">
                                    <animate attributeName="r" values="4;8;4" dur="2s" repeatCount="indefinite"/>
                                </circle>
                                <circle cx="250" cy="200" r="4" fill="#f39c12" class="shipment-indicator">
                                    <animate attributeName="r" values="4;8;4" dur="2.5s" repeatCount="indefinite"/>
                                </circle>
                                <circle cx="600" cy="150" r="4" fill="#f39c12" class="shipment-indicator">
                                    <animate attributeName="r" values="4;8;4" dur="1.8s" repeatCount="indefinite"/>
                                </circle>
                            </svg>
                            <div class="map-tooltip" id="map-tooltip"></div>
                        </div>
                        <div class="map-stats">
                            <div class="stat-item">
                                <div class="stat-value">5,300</div>
                                <div class="stat-label">Total Capacity/Month</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">367</div>
                                <div class="stat-label">Active Orders</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">23</div>
                                <div class="stat-label">Countries Served</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <h3 class="section-title">🎯 Customer Performance Matrix</h3>
                    <div class="bubble-chart">
                        <div class="chart-header">
                            <h3>Customer Value vs Satisfaction Analysis</h3>
                            <div class="chart-legend">
                                <span class="legend-item"><span class="legend-bubble high-value"></span>High Value (>$500K)</span>
                                <span class="legend-item"><span class="legend-bubble medium-value"></span>Medium Value ($100K-$500K)</span>
                                <span class="legend-item"><span class="legend-bubble low-value"></span>Low Value (<$100K)</span>
                            </div>
                        </div>
                        <div class="chart-container">
                            <svg class="customer-bubble-chart" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                                <!-- Grid lines -->
                                <defs>
                                    <pattern id="bubbleGrid" width="80" height="40" patternUnits="userSpaceOnUse">
                                        <path d="M 80 0 L 0 0 0 40" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                    </pattern>
                                </defs>
                                <rect width="800" height="400" fill="url(#bubbleGrid)" />
                                
                                <!-- Axes -->
                                <line x1="60" y1="350" x2="750" y2="350" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                <line x1="60" y1="350" x2="60" y2="50" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                
                                <!-- X-axis labels (Customer Value) -->
                                <text x="150" y="375" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="middle">$100K</text>
                                <text x="250" y="375" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="middle">$300K</text>
                                <text x="350" y="375" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="middle">$500K</text>
                                <text x="450" y="375" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="middle">$700K</text>
                                <text x="550" y="375" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="middle">$900K</text>
                                <text x="650" y="375" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="middle">$1M+</text>
                                <text x="400" y="395" fill="rgba(255,255,255,0.8)" font-size="14" text-anchor="middle" font-weight="bold">Annual Order Value</text>
                                
                                <!-- Y-axis labels (Satisfaction Score) -->
                                <text x="45" y="320" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">60%</text>
                                <text x="45" y="280" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">70%</text>
                                <text x="45" y="240" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">80%</text>
                                <text x="45" y="200" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">90%</text>
                                <text x="45" y="160" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">95%</text>
                                <text x="45" y="120" fill="rgba(255,255,255,0.7)" font-size="12" text-anchor="end">100%</text>
                                <text x="25" y="200" fill="rgba(255,255,255,0.8)" font-size="14" text-anchor="middle" font-weight="bold" transform="rotate(-90 25 200)">Satisfaction Score</text>
                                
                                <!-- Customer bubbles -->
                                <!-- High Value Customers -->
                                <circle cx="580" cy="140" r="25" fill="rgba(46, 204, 113, 0.7)" stroke="#2ecc71" stroke-width="2" 
                                        class="customer-bubble" data-customer="Walmart" data-value="1200000" data-satisfaction="96" data-orders="89"/>
                                <circle cx="520" cy="160" r="22" fill="rgba(46, 204, 113, 0.7)" stroke="#2ecc71" stroke-width="2" 
                                        class="customer-bubble" data-customer="Target" data-value="850000" data-satisfaction="94" data-orders="67"/>
                                <circle cx="480" cy="180" r="20" fill="rgba(46, 204, 113, 0.7)" stroke="#2ecc71" stroke-width="2" 
                                        class="customer-bubble" data-customer="H&M" data-value="720000" data-satisfaction="91" data-orders="45"/>
                                
                                <!-- Medium Value Customers -->
                                <circle cx="320" cy="200" r="18" fill="rgba(52, 152, 219, 0.7)" stroke="#3498db" stroke-width="2" 
                                        class="customer-bubble" data-customer="Marks & Spencer" data-value="450000" data-satisfaction="89" data-orders="32"/>
                                <circle cx="280" cy="220" r="16" fill="rgba(52, 152, 219, 0.7)" stroke="#3498db" stroke-width="2" 
                                        class="customer-bubble" data-customer="Zara" data-value="380000" data-satisfaction="87" data-orders="28"/>
                                <circle cx="350" cy="240" r="15" fill="rgba(52, 152, 219, 0.7)" stroke="#3498db" stroke-width="2" 
                                        class="customer-bubble" data-customer="Uniqlo" data-value="320000" data-satisfaction="85" data-orders="24"/>
                                <circle cx="250" cy="260" r="14" fill="rgba(52, 152, 219, 0.7)" stroke="#3498db" stroke-width="2" 
                                        class="customer-bubble" data-customer="Next" data-value="280000" data-satisfaction="82" data-orders="21"/>
                                
                                <!-- Low Value Customers -->
                                <circle cx="180" cy="280" r="12" fill="rgba(241, 196, 15, 0.7)" stroke="#f1c40f" stroke-width="2" 
                                        class="customer-bubble" data-customer="Myer" data-value="150000" data-satisfaction="79" data-orders="15"/>
                                <circle cx="140" cy="300" r="10" fill="rgba(241, 196, 15, 0.7)" stroke="#f1c40f" stroke-width="2" 
                                        class="customer-bubble" data-customer="Hudson Bay" data-value="120000" data-satisfaction="76" data-orders="12"/>
                                <circle cx="200" cy="320" r="9" fill="rgba(241, 196, 15, 0.7)" stroke="#f1c40f" stroke-width="2" 
                                        class="customer-bubble" data-customer="Debenhams" data-value="95000" data-satisfaction="73" data-orders="8"/>
                                <circle cx="160" cy="340" r="8" fill="rgba(231, 76, 60, 0.7)" stroke="#e74c3c" stroke-width="2" 
                                        class="customer-bubble" data-customer="Kohl's" data-value="75000" data-satisfaction="68" data-orders="6"/>
                                
                                <!-- Customer labels -->
                                <text x="580" y="145" fill="white" font-size="10" text-anchor="middle" font-weight="bold">WMT</text>
                                <text x="520" y="165" fill="white" font-size="10" text-anchor="middle" font-weight="bold">TGT</text>
                                <text x="480" y="185" fill="white" font-size="9" text-anchor="middle" font-weight="bold">H&M</text>
                                <text x="320" y="205" fill="white" font-size="9" text-anchor="middle" font-weight="bold">M&S</text>
                                <text x="280" y="225" fill="white" font-size="8" text-anchor="middle" font-weight="bold">ZRA</text>
                                <text x="350" y="245" fill="white" font-size="8" text-anchor="middle" font-weight="bold">UNI</text>
                            </svg>
                            <div class="bubble-tooltip" id="bubble-tooltip"></div>
                        </div>
                        <div class="bubble-insights">
                            <div class="insight-card">
                                <div class="insight-title">Top Performers</div>
                                <div class="insight-text">Walmart & Target show high value + satisfaction</div>
                            </div>
                            <div class="insight-card">
                                <div class="insight-title">Growth Opportunity</div>
                                <div class="insight-text">5 customers below 80% satisfaction need attention</div>
                            </div>
                            <div class="insight-card">
                                <div class="insight-title">Risk Alert</div>
                                <div class="insight-text">Kohl's: Low value + satisfaction - review relationship</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chart-container">
                    <h3 class="section-title">🔮 AI-Powered Forecasting</h3>
                    <div class="predictive-analytics">
                        <div class="analytics-grid">
                            <!-- Demand Forecasting Chart -->
                            <div class="forecast-chart">
                                <div class="chart-header">
                                    <h4>📈 Demand Forecasting (Next 6 Months)</h4>
                                    <div class="forecast-accuracy">Accuracy: <span class="accuracy-score">94.2%</span></div>
                                </div>
                                <div class="chart-container">
                                    <svg class="demand-forecast-chart" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
                                        <!-- Grid lines -->
                                        <defs>
                                            <pattern id="forecastGrid" width="60" height="30" patternUnits="userSpaceOnUse">
                                                <path d="M 60 0 L 0 0 0 30" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                            </pattern>
                                            <linearGradient id="confidenceGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                                <stop offset="0%" style="stop-color:#3498db;stop-opacity:0.3"/>
                                                <stop offset="100%" style="stop-color:#3498db;stop-opacity:0.1"/>
                                            </linearGradient>
                                        </defs>
                                        <rect width="600" height="300" fill="url(#forecastGrid)" />
                                        
                                        <!-- Axes -->
                                        <line x1="50" y1="250" x2="550" y2="250" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                        <line x1="50" y1="250" x2="50" y2="50" stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                        
                                        <!-- Historical data line -->
                                        <polyline points="50,200 100,180 150,160 200,140 250,120 300,100" 
                                                  fill="none" stroke="#2ecc71" stroke-width="3" class="historical-line"/>
                                        
                                        <!-- Predicted data line -->
                                        <polyline points="300,100 350,90 400,85 450,80 500,75 550,70" 
                                                  fill="none" stroke="#3498db" stroke-width="3" stroke-dasharray="5,5" class="predicted-line"/>
                                        
                                        <!-- Confidence interval -->
                                        <polygon points="300,100 350,80 400,75 450,70 500,65 550,60 550,80 500,85 450,90 400,95 350,100 300,120" 
                                                 fill="url(#confidenceGradient)" class="confidence-band"/>
                                        
                                        <!-- Data points -->
                                        <circle cx="50" cy="200" r="4" fill="#2ecc71" class="data-point" data-month="Jul" data-value="2400"/>
                                        <circle cx="100" cy="180" r="4" fill="#2ecc71" class="data-point" data-month="Aug" data-value="2800"/>
                                        <circle cx="150" cy="160" r="4" fill="#2ecc71" class="data-point" data-month="Sep" data-value="3200"/>
                                        <circle cx="200" cy="140" r="4" fill="#2ecc71" class="data-point" data-month="Oct" data-value="3600"/>
                                        <circle cx="250" cy="120" r="4" fill="#2ecc71" class="data-point" data-month="Nov" data-value="4000"/>
                                        <circle cx="300" cy="100" r="4" fill="#2ecc71" class="data-point" data-month="Dec" data-value="4400"/>
                                        
                                        <!-- Predicted points -->
                                        <circle cx="350" cy="90" r="4" fill="#3498db" class="predicted-point" data-month="Jan" data-value="4700" data-confidence="92"/>
                                        <circle cx="400" cy="85" r="4" fill="#3498db" class="predicted-point" data-month="Feb" data-value="4850" data-confidence="89"/>
                                        <circle cx="450" cy="80" r="4" fill="#3498db" class="predicted-point" data-month="Mar" data-value="5000" data-confidence="86"/>
                                        <circle cx="500" cy="75" r="4" fill="#3498db" class="predicted-point" data-month="Apr" data-value="5150" data-confidence="83"/>
                                        <circle cx="550" cy="70" r="4" fill="#3498db" class="predicted-point" data-month="May" data-value="5300" data-confidence="80"/>
                                        
                                        <!-- X-axis labels -->
                                        <text x="50" y="270" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="middle">Jul</text>
                                        <text x="100" y="270" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="middle">Aug</text>
                                        <text x="150" y="270" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="middle">Sep</text>
                                        <text x="200" y="270" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="middle">Oct</text>
                                        <text x="250" y="270" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="middle">Nov</text>
                                        <text x="300" y="270" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="middle">Dec</text>
                                        <text x="350" y="270" fill="rgba(52,152,219,0.8)" font-size="10" text-anchor="middle">Jan</text>
                                        <text x="400" y="270" fill="rgba(52,152,219,0.8)" font-size="10" text-anchor="middle">Feb</text>
                                        <text x="450" y="270" fill="rgba(52,152,219,0.8)" font-size="10" text-anchor="middle">Mar</text>
                                        <text x="500" y="270" fill="rgba(52,152,219,0.8)" font-size="10" text-anchor="middle">Apr</text>
                                        <text x="550" y="270" fill="rgba(52,152,219,0.8)" font-size="10" text-anchor="middle">May</text>
                                        
                                        <!-- Y-axis labels -->
                                        <text x="40" y="250" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="end">2K</text>
                                        <text x="40" y="200" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="end">3K</text>
                                        <text x="40" y="150" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="end">4K</text>
                                        <text x="40" y="100" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="end">5K</text>
                                        <text x="40" y="50" fill="rgba(255,255,255,0.7)" font-size="10" text-anchor="end">6K</text>
                                        
                                        <!-- Legend -->
                                        <g transform="translate(420, 30)">
                                            <line x1="0" y1="0" x2="20" y2="0" stroke="#2ecc71" stroke-width="3"/>
                                            <text x="25" y="5" fill="rgba(255,255,255,0.8)" font-size="10">Historical</text>
                                            <line x1="0" y1="15" x2="20" y2="15" stroke="#3498db" stroke-width="3" stroke-dasharray="5,5"/>
                                            <text x="25" y="20" fill="rgba(255,255,255,0.8)" font-size="10">Predicted</text>
                                        </g>
                                    </svg>
                                    <div class="forecast-tooltip" id="forecast-tooltip"></div>
                                </div>
                            </div>
                            
                            <!-- Risk Assessment Panel -->
                            <div class="risk-assessment">
                                <div class="chart-header">
                                    <h4>⚠️ Supply Chain Risk Assessment</h4>
                                    <div class="risk-level">Overall Risk: <span class="risk-medium">Medium</span></div>
                                </div>
                                <div class="risk-indicators">
                                    <div class="risk-item">
                                        <div class="risk-icon high">🔴</div>
                                        <div class="risk-details">
                                            <div class="risk-title">Raw Material Shortage</div>
                                            <div class="risk-desc">Cotton supply disruption in India</div>
                                            <div class="risk-impact">Impact: High | Probability: 75%</div>
                                        </div>
                                        <div class="risk-action">Diversify suppliers</div>
                                    </div>
                                    <div class="risk-item">
                                        <div class="risk-icon medium">🟡</div>
                                        <div class="risk-details">
                                            <div class="risk-title">Shipping Delays</div>
                                            <div class="risk-desc">Port congestion in Shanghai</div>
                                            <div class="risk-impact">Impact: Medium | Probability: 60%</div>
                                        </div>
                                        <div class="risk-action">Alternative routes</div>
                                    </div>
                                    <div class="risk-item">
                                        <div class="risk-icon low">🟢</div>
                                        <div class="risk-details">
                                            <div class="risk-title">Currency Fluctuation</div>
                                            <div class="risk-desc">USD/EUR exchange rate stability</div>
                                            <div class="risk-impact">Impact: Low | Probability: 30%</div>
                                        </div>
                                        <div class="risk-action">Hedge positions</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Customer Churn Prediction -->
                            <div class="churn-prediction">
                                <div class="chart-header">
                                    <h4>👥 Customer Churn Prediction</h4>
                                    <div class="churn-rate">Predicted Churn: <span class="churn-low">8.3%</span></div>
                                </div>
                                <div class="churn-customers">
                                    <div class="churn-item high-risk">
                                        <div class="customer-info">
                                            <div class="customer-name">Kohl's</div>
                                            <div class="customer-value">$75K annual</div>
                                        </div>
                                        <div class="churn-probability">
                                            <div class="probability-bar">
                                                <div class="probability-fill high" style="width: 85%"></div>
                                            </div>
                                            <span class="probability-text">85%</span>
                                        </div>
                                        <div class="churn-action">Immediate intervention</div>
                                    </div>
                                    <div class="churn-item medium-risk">
                                        <div class="customer-info">
                                            <div class="customer-name">Debenhams</div>
                                            <div class="customer-value">$95K annual</div>
                                        </div>
                                        <div class="churn-probability">
                                            <div class="probability-bar">
                                                <div class="probability-fill medium" style="width: 65%"></div>
                                            </div>
                                            <span class="probability-text">65%</span>
                                        </div>
                                        <div class="churn-action">Schedule review</div>
                                    </div>
                                    <div class="churn-item low-risk">
                                        <div class="customer-info">
                                            <div class="customer-name">Hudson Bay</div>
                                            <div class="customer-value">$120K annual</div>
                                        </div>
                                        <div class="churn-probability">
                                            <div class="probability-bar">
                                                <div class="probability-fill low" style="width: 25%"></div>
                                            </div>
                                            <span class="probability-text">25%</span>
                                        </div>
                                        <div class="churn-action">Monitor closely</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Other Tab Contents (Placeholder) -->
        <div id="sales" class="tab-content">
            <div class="section-title">🎯 Sales Pipeline & Prospects Dashboard</div>
            <div class="sales-pipeline-dashboard">
                <!-- Pipeline Analytics Header -->
                <div class="pipeline-analytics-header">
                    <div class="pipeline-metric">
                        <div class="metric-label">Total Pipeline Value</div>
                        <div class="metric-value">$2.8M</div>
                        <div class="metric-trend positive">+12.5%</div>
                    </div>
                    <div class="pipeline-metric">
                        <div class="metric-label">Active Deals</div>
                        <div class="metric-value">47</div>
                        <div class="metric-trend positive">+8</div>
                    </div>
                    <div class="pipeline-metric">
                        <div class="metric-label">Avg. Deal Size</div>
                        <div class="metric-value">$59.6K</div>
                        <div class="metric-trend negative">-3.2%</div>
                    </div>
                    <div class="pipeline-metric">
                        <div class="metric-label">Win Rate</div>
                        <div class="metric-value">68%</div>
                        <div class="metric-trend positive">+5%</div>
                    </div>
                </div>

                <!-- Pipeline Stages -->
                <div class="pipeline-container">
                    <div class="pipeline-stage" data-stage="lead">
                        <div class="stage-header">
                            <h4>🎯 Leads</h4>
                            <div class="stage-stats">
                                <span class="deal-count">12 deals</span>
                                <span class="stage-value">$720K</span>
                            </div>
                        </div>
                        <div class="deals-container" data-stage="lead">
                            <div class="deal-card" data-deal-id="1" data-value="45000">
                                <div class="deal-header">
                                    <div class="company-name">TechCorp Solutions</div>
                                    <div class="deal-value">$45K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">John Smith • CEO</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 15%"></div>
                                        </div>
                                        <span class="progress-text">15%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">Added 3 days ago</span>
                                        <span class="deal-source">Website</span>
                                    </div>
                                </div>
                            </div>
                            <div class="deal-card" data-deal-id="2" data-value="32000">
                                <div class="deal-header">
                                    <div class="company-name">Global Retail Inc</div>
                                    <div class="deal-value">$32K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Sarah Johnson • Procurement</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 10%"></div>
                                        </div>
                                        <span class="progress-text">10%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">Added 1 week ago</span>
                                        <span class="deal-source">Referral</span>
                                    </div>
                                </div>
                            </div>
                            <div class="deal-card" data-deal-id="3" data-value="78000">
                                <div class="deal-header">
                                    <div class="company-name">Fashion Forward Ltd</div>
                                    <div class="deal-value">$78K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Mike Chen • Buyer</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 20%"></div>
                                        </div>
                                        <span class="progress-text">20%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">Added 5 days ago</span>
                                        <span class="deal-source">Trade Show</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pipeline-stage" data-stage="qualified">
                        <div class="stage-header">
                            <h4>✅ Qualified</h4>
                            <div class="stage-stats">
                                <span class="deal-count">8 deals</span>
                                <span class="stage-value">$520K</span>
                            </div>
                        </div>
                        <div class="deals-container" data-stage="qualified">
                            <div class="deal-card" data-deal-id="4" data-value="95000">
                                <div class="deal-header">
                                    <div class="company-name">Premium Brands Co</div>
                                    <div class="deal-value">$95K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Lisa Wang • Director</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 35%"></div>
                                        </div>
                                        <span class="progress-text">35%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">In stage 4 days</span>
                                        <span class="deal-source">Cold Outreach</span>
                                    </div>
                                </div>
                            </div>
                            <div class="deal-card" data-deal-id="5" data-value="67000">
                                <div class="deal-header">
                                    <div class="company-name">Urban Style Group</div>
                                    <div class="deal-value">$67K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Tom Rodriguez • Manager</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 40%"></div>
                                        </div>
                                        <span class="progress-text">40%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">In stage 1 week</span>
                                        <span class="deal-source">LinkedIn</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pipeline-stage" data-stage="proposal">
                        <div class="stage-header">
                            <h4>📋 Proposal</h4>
                            <div class="stage-stats">
                                <span class="deal-count">6 deals</span>
                                <span class="stage-value">$420K</span>
                            </div>
                        </div>
                        <div class="deals-container" data-stage="proposal">
                            <div class="deal-card" data-deal-id="6" data-value="125000">
                                <div class="deal-header">
                                    <div class="company-name">Luxury Boutiques</div>
                                    <div class="deal-value">$125K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Emma Davis • Owner</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 65%"></div>
                                        </div>
                                        <span class="progress-text">65%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">In stage 3 days</span>
                                        <span class="deal-source">Partner</span>
                                    </div>
                                </div>
                            </div>
                            <div class="deal-card" data-deal-id="7" data-value="89000">
                                <div class="deal-header">
                                    <div class="company-name">Metro Fashion Hub</div>
                                    <div class="deal-value">$89K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Alex Kim • Buyer</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 70%"></div>
                                        </div>
                                        <span class="progress-text">70%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">In stage 1 week</span>
                                        <span class="deal-source">Website</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pipeline-stage" data-stage="negotiation">
                        <div class="stage-header">
                            <h4>🤝 Negotiation</h4>
                            <div class="stage-stats">
                                <span class="deal-count">4 deals</span>
                                <span class="stage-value">$380K</span>
                            </div>
                        </div>
                        <div class="deals-container" data-stage="negotiation">
                            <div class="deal-card" data-deal-id="8" data-value="156000">
                                <div class="deal-header">
                                    <div class="company-name">Elite Collections</div>
                                    <div class="deal-value">$156K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Rachel Green • VP Sales</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 85%"></div>
                                        </div>
                                        <span class="progress-text">85%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">In stage 2 days</span>
                                        <span class="deal-source">Referral</span>
                                    </div>
                                </div>
                            </div>
                            <div class="deal-card" data-deal-id="9" data-value="98000">
                                <div class="deal-header">
                                    <div class="company-name">Trendy Outlets</div>
                                    <div class="deal-value">$98K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">David Park • Manager</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 80%"></div>
                                        </div>
                                        <span class="progress-text">80%</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">In stage 5 days</span>
                                        <span class="deal-source">Trade Show</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pipeline-stage" data-stage="closed">
                        <div class="stage-header">
                            <h4>🎉 Closed Won</h4>
                            <div class="stage-stats">
                                <span class="deal-count">3 deals</span>
                                <span class="stage-value">$245K</span>
                            </div>
                        </div>
                        <div class="deals-container" data-stage="closed">
                            <div class="deal-card won" data-deal-id="10" data-value="112000">
                                <div class="deal-header">
                                    <div class="company-name">Success Stories Ltd</div>
                                    <div class="deal-value">$112K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Jennifer Liu • CEO</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill won" style="width: 100%"></div>
                                        </div>
                                        <span class="progress-text">Won!</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">Closed 2 days ago</span>
                                        <span class="deal-source">Referral</span>
                                    </div>
                                </div>
                            </div>
                            <div class="deal-card won" data-deal-id="11" data-value="87000">
                                <div class="deal-header">
                                    <div class="company-name">Victory Retail</div>
                                    <div class="deal-value">$87K</div>
                                </div>
                                <div class="deal-details">
                                    <div class="contact-info">Mark Thompson • Director</div>
                                    <div class="deal-progress">
                                        <div class="progress-bar">
                                            <div class="progress-fill won" style="width: 100%"></div>
                                        </div>
                                        <span class="progress-text">Won!</span>
                                    </div>
                                    <div class="deal-meta">
                                        <span class="deal-date">Closed 1 week ago</span>
                                        <span class="deal-source">Cold Outreach</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pipeline Analytics Footer -->
                <div class="pipeline-analytics-footer">
                    <div class="conversion-rates">
                        <h4>📊 Stage Conversion Rates</h4>
                        <div class="conversion-grid">
                            <div class="conversion-item">
                                <div class="conversion-label">Lead → Qualified</div>
                                <div class="conversion-rate">67%</div>
                                <div class="conversion-bar">
                                    <div class="conversion-fill" style="width: 67%"></div>
                                </div>
                            </div>
                            <div class="conversion-item">
                                <div class="conversion-label">Qualified → Proposal</div>
                                <div class="conversion-rate">75%</div>
                                <div class="conversion-bar">
                                    <div class="conversion-fill" style="width: 75%"></div>
                                </div>
                            </div>
                            <div class="conversion-item">
                                <div class="conversion-label">Proposal → Negotiation</div>
                                <div class="conversion-rate">67%</div>
                                <div class="conversion-bar">
                                    <div class="conversion-fill" style="width: 67%"></div>
                                </div>
                            </div>
                            <div class="conversion-item">
                                <div class="conversion-label">Negotiation → Closed</div>
                                <div class="conversion-rate">75%</div>
                                <div class="conversion-bar">
                                    <div class="conversion-fill" style="width: 75%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="pipeline-insights">
                        <h4>💡 Pipeline Insights</h4>
                        <div class="insight-list">
                            <div class="insight-item">
                                <div class="insight-icon">🎯</div>
                                <div class="insight-text">3 deals worth $280K need attention in Proposal stage</div>
                            </div>
                            <div class="insight-item">
                                <div class="insight-icon">⚡</div>
                                <div class="insight-text">Elite Collections deal likely to close this week</div>
                            </div>
                            <div class="insight-item">
                                <div class="insight-icon">📈</div>
                                <div class="insight-text">Pipeline velocity improved 15% this quarter</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="manufacturing" class="tab-content">
            <div class="section-title">🏭 Manufacturing & Operations Dashboard</div>
            <div class="chart-placeholder" style="height: 400px;">Factory Performance & Production Management</div>
        </div>

        <div id="logistics" class="tab-content">
            <div class="section-title">🚢 Logistics & Fulfillment Dashboard</div>
            <div class="chart-placeholder" style="height: 400px;">Shipment Tracking & Delivery Management</div>
        </div>

        <div id="financial" class="tab-content">
            <div class="section-title">💰 Financial Performance Dashboard</div>
            <div class="chart-placeholder" style="height: 400px;">Revenue, Profitability & Financial Analytics</div>
        </div>

        <div id="sustainability" class="tab-content">
            <div class="section-title">♻️ Sustainability & Compliance Dashboard</div>
            <div class="chart-placeholder" style="height: 400px;">Environmental Impact & Compliance Monitoring</div>
        </div>

        <div id="analytics" class="tab-content">
            <div class="section-title">🔮 AI Insights & Predictive Analytics</div>
            <div class="ai-insights-dashboard">
                <div class="insights-grid">
                    <!-- ML Model Performance -->
                    <div class="model-performance">
                        <h4>🤖 ML Model Performance</h4>
                        <div class="model-metrics">
                            <div class="metric-item">
                                <div class="metric-label">Demand Forecasting</div>
                                <div class="metric-value">94.2%</div>
                                <div class="metric-trend positive">+2.1%</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Churn Prediction</div>
                                <div class="metric-value">91.7%</div>
                                <div class="metric-trend positive">+1.8%</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Price Optimization</div>
                                <div class="metric-value">88.9%</div>
                                <div class="metric-trend negative">-0.5%</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Anomaly Detection -->
                    <div class="anomaly-detection">
                        <h4>🚨 Anomaly Detection</h4>
                        <div class="anomaly-alerts">
                            <div class="anomaly-item critical">
                                <div class="anomaly-icon">⚠️</div>
                                <div class="anomaly-details">
                                    <div class="anomaly-title">Unusual Order Pattern</div>
                                    <div class="anomaly-desc">Target orders 300% above normal</div>
                                    <div class="anomaly-time">Detected 2 hours ago</div>
                                </div>
                            </div>
                            <div class="anomaly-item warning">
                                <div class="anomaly-icon">🔍</div>
                                <div class="anomaly-details">
                                    <div class="anomaly-title">Production Efficiency Drop</div>
                                    <div class="anomaly-desc">Factory B efficiency down 15%</div>
                                    <div class="anomaly-time">Detected 4 hours ago</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recommendation Engine -->
                    <div class="recommendations">
                        <h4>💡 AI Recommendations</h4>
                        <div class="recommendation-list">
                            <div class="recommendation-item">
                                <div class="rec-priority high">High</div>
                                <div class="rec-content">
                                    <div class="rec-title">Increase Production Capacity</div>
                                    <div class="rec-desc">Demand forecast shows 20% increase next quarter</div>
                                    <div class="rec-impact">Expected ROI: +$2.3M</div>
                                </div>
                            </div>
                            <div class="recommendation-item">
                                <div class="rec-priority medium">Medium</div>
                                <div class="rec-content">
                                    <div class="rec-title">Optimize Shipping Routes</div>
                                    <div class="rec-desc">AI suggests 3 route changes for cost reduction</div>
                                    <div class="rec-impact">Expected Savings: $450K</div>
                                </div>
                            </div>
                            <div class="recommendation-item">
                                <div class="rec-priority low">Low</div>
                                <div class="rec-content">
                                    <div class="rec-title">Update Pricing Strategy</div>
                                    <div class="rec-desc">Market analysis suggests 5% price adjustment</div>
                                    <div class="rec-impact">Expected Revenue: +$180K</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Predictive Maintenance -->
                    <div class="predictive-maintenance">
                        <h4>🔧 Predictive Maintenance</h4>
                        <div class="maintenance-schedule">
                            <div class="maintenance-item urgent">
                                <div class="equipment-name">Cutting Machine #3</div>
                                <div class="maintenance-date">Maintenance Due: 3 days</div>
                                <div class="failure-probability">Failure Risk: 78%</div>
                            </div>
                            <div class="maintenance-item scheduled">
                                <div class="equipment-name">Sewing Line A</div>
                                <div class="maintenance-date">Maintenance Due: 12 days</div>
                                <div class="failure-probability">Failure Risk: 23%</div>
                            </div>
                            <div class="maintenance-item good">
                                <div class="equipment-name">Packaging Unit #2</div>
                                <div class="maintenance-date">Maintenance Due: 28 days</div>
                                <div class="failure-probability">Failure Risk: 8%</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Market Intelligence -->
                    <div class="market-intelligence">
                        <h4>📊 Market Intelligence</h4>
                        <div class="market-insights">
                            <div class="insight-item">
                                <div class="insight-icon">📈</div>
                                <div class="insight-text">Sustainable fashion demand up 35% this quarter</div>
                            </div>
                            <div class="insight-item">
                                <div class="insight-icon">🌍</div>
                                <div class="insight-text">European market showing strong growth potential</div>
                            </div>
                            <div class="insight-item">
                                <div class="insight-icon">💰</div>
                                <div class="insight-text">Competitor pricing 12% below market average</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- AI Training Status -->
                    <div class="ai-training">
                        <h4>🧠 AI Model Training</h4>
                        <div class="training-status">
                            <div class="training-item">
                                <div class="model-name">Demand Forecasting v2.1</div>
                                <div class="training-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 85%"></div>
                                    </div>
                                    <span class="progress-text">85% Complete</span>
                                </div>
                                <div class="training-eta">ETA: 2 hours</div>
                            </div>
                            <div class="training-item">
                                <div class="model-name">Customer Segmentation v1.3</div>
                                <div class="training-progress">
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 45%"></div>
                                    </div>
                                    <span class="progress-text">45% Complete</span>
                                </div>
                                <div class="training-eta">ETA: 6 hours</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab switching functionality
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and content
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Show corresponding content
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // Simulate real-time data updates
        function updateKPIs() {
            const kpiValues = document.querySelectorAll('.kpi-value');
            kpiValues.forEach(kpi => {
                // Add subtle animation to indicate live updates
                kpi.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    kpi.style.transform = 'scale(1)';
                }, 200);
            });
        }

        // Funnel data and interactions
        const funnelData = {
            prospects: { count: 450, value: 2100000, color: '#3498db' },
            qualified: { count: 247, value: 1800000, color: '#27ae60' },
            rfq: { count: 89, value: 1200000, color: '#f39c12' },
            won: { count: 23, value: 850000, color: '#9b59b6' },
            production: { count: 21, value: 780000, color: '#e74c3c' },
            delivered: { count: 19, value: 720000, color: '#1abc9c' }
        };

        function initializeFunnel() {
            const funnelBars = document.querySelectorAll('.funnel-bar');
            funnelBars.forEach(bar => {
                bar.addEventListener('click', function() {
                    const stage = this.dataset.stage;
                    showFunnelDetails(stage);
                });
            });

            // Animate funnel bars on load
            setTimeout(() => {
                animateFunnelBars();
            }, 500);
        }

        function animateFunnelBars() {
            const funnelFills = document.querySelectorAll('.funnel-fill');
            funnelFills.forEach((fill, index) => {
                setTimeout(() => {
                    fill.style.width = fill.style.width;
                    fill.classList.add('animated');
                }, index * 200);
            });
        }

        function showFunnelDetails(stage) {
            const data = funnelData[stage];
            if (data) {
                alert(`${stage.toUpperCase()} Stage Details:\n\nCount: ${data.count}\nValue: $${(data.value / 1000000).toFixed(1)}M\n\nClick OK to drill down for more details.`);
            }
        }

        function updateFunnelMetrics() {
            const totalProspects = funnelData.prospects.count;
            const totalDelivered = funnelData.delivered.count;
            const conversionRate = ((totalDelivered / totalProspects) * 100).toFixed(1);
            
            // Update conversion rate
            const conversionElement = document.querySelector('[data-metric="conversion"] .metric-value');
            if (conversionElement) {
                conversionElement.textContent = conversionRate + '%';
            }

            // Simulate cycle time variation
            const cycleTime = Math.floor(120 + Math.random() * 20);
            const cycleElement = document.querySelector('[data-metric="cycle"] .metric-value');
            if (cycleElement) {
                cycleElement.textContent = cycleTime + ' days';
            }

            // Update pipeline value
            const pipelineValue = (funnelData.prospects.value / 1000000).toFixed(1);
            const valueElement = document.querySelector('[data-metric="value"] .metric-value');
            if (valueElement) {
                valueElement.textContent = '$' + pipelineValue + 'M';
            }
        }

        // Update KPIs every 30 seconds
        setInterval(() => {
            updateKPIs();
            updateFunnelMetrics();
        }, 30000);

        // Add hover effects to cards
        document.querySelectorAll('.kpi-card, .chart-container').forEach(card => {
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-5px)';
            });
            
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0)';
            });
        });

        // Refresh button functionality
        document.querySelector('.refresh-btn').addEventListener('click', () => {
            const btn = document.querySelector('.refresh-btn');
            btn.style.transform = 'rotate(360deg)';
            btn.style.transition = 'transform 0.5s ease';
            
            setTimeout(() => {
                btn.style.transform = 'rotate(0deg)';
                updateKPIs();
                updateFunnelMetrics();
            }, 500);
        });

        // Bubble Chart Functions
        function initializeBubbleChart() {
            const bubbles = document.querySelectorAll('.customer-bubble');
            const tooltip = document.getElementById('bubble-tooltip');
            
            bubbles.forEach(bubble => {
                bubble.addEventListener('mouseenter', (e) => {
                    const customer = e.target.getAttribute('data-customer');
                    const value = parseInt(e.target.getAttribute('data-value'));
                    const satisfaction = e.target.getAttribute('data-satisfaction');
                    const orders = e.target.getAttribute('data-orders');
                    
                    const formattedValue = new Intl.NumberFormat('en-US', {
                        style: 'currency',
                        currency: 'USD',
                        minimumFractionDigits: 0,
                        maximumFractionDigits: 0
                    }).format(value);
                    
                    tooltip.innerHTML = `
                        <div style="font-weight: bold; margin-bottom: 8px; color: #3498db;">${customer}</div>
                        <div style="margin-bottom: 4px;">Annual Value: <strong>${formattedValue}</strong></div>
                        <div style="margin-bottom: 4px;">Satisfaction: <strong>${satisfaction}%</strong></div>
                        <div>Orders: <strong>${orders}</strong></div>
                    `;
                    
                    tooltip.classList.add('show');
                });
                
                bubble.addEventListener('mousemove', (e) => {
                    const rect = e.target.closest('.bubble-chart').getBoundingClientRect();
                    tooltip.style.left = (e.clientX - rect.left + 15) + 'px';
                    tooltip.style.top = (e.clientY - rect.top - 10) + 'px';
                });
                
                bubble.addEventListener('mouseleave', () => {
                    tooltip.classList.remove('show');
                });
                
                bubble.addEventListener('click', (e) => {
                    const customer = e.target.getAttribute('data-customer');
                    const value = parseInt(e.target.getAttribute('data-value'));
                    const satisfaction = e.target.getAttribute('data-satisfaction');
                    
                    // Simulate drill-down action
                    console.log(`Drilling down to ${customer} details...`);
                    
                    // Add visual feedback
                    e.target.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        e.target.style.transform = '';
                    }, 200);
                    
                    // You could open a modal or navigate to detailed view here
                    alert(`Customer Details:\n${customer}\nValue: $${value.toLocaleString()}\nSatisfaction: ${satisfaction}%`);
                });
            });
        }

        function animateBubbles() {
            const bubbles = document.querySelectorAll('.customer-bubble');
            
            bubbles.forEach((bubble, index) => {
                setTimeout(() => {
                    bubble.style.opacity = '0';
                    bubble.style.transform = 'scale(0)';
                    
                    setTimeout(() => {
                        bubble.style.transition = 'all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                        bubble.style.opacity = '1';
                        bubble.style.transform = 'scale(1)';
                    }, 100);
                }, index * 100);
            });
        }

        // AI Insights Dashboard Functions
        function initializeAIInsights() {
            // Add click handlers for anomaly alerts
            const anomalyItems = document.querySelectorAll('.anomaly-item');
            anomalyItems.forEach(item => {
                item.addEventListener('click', () => {
                    const title = item.querySelector('.anomaly-title').textContent;
                    alert(`Investigating: ${title}\n\nThis would open detailed anomaly analysis and recommended actions.`);
                });
                
                item.style.cursor = 'pointer';
                item.addEventListener('mouseenter', () => {
                    item.style.transform = 'translateX(5px)';
                    item.style.transition = 'transform 0.2s ease';
                });
                
                item.addEventListener('mouseleave', () => {
                    item.style.transform = 'translateX(0)';
                });
            });

            // Add click handlers for recommendations
            const recommendationItems = document.querySelectorAll('.recommendation-item');
            recommendationItems.forEach(item => {
                item.addEventListener('click', () => {
                    const title = item.querySelector('.rec-title').textContent;
                    const impact = item.querySelector('.rec-impact').textContent;
                    alert(`Recommendation: ${title}\n\n${impact}\n\nThis would open detailed implementation plan and timeline.`);
                });
                
                item.style.cursor = 'pointer';
                item.addEventListener('mouseenter', () => {
                    item.style.transform = 'scale(1.02)';
                    item.style.transition = 'transform 0.2s ease';
                });
                
                item.addEventListener('mouseleave', () => {
                    item.style.transform = 'scale(1)';
                });
            });

            // Add click handlers for maintenance items
            const maintenanceItems = document.querySelectorAll('.maintenance-item');
            maintenanceItems.forEach(item => {
                item.addEventListener('click', () => {
                    const equipment = item.querySelector('.equipment-name').textContent;
                    const risk = item.querySelector('.failure-probability').textContent;
                    alert(`Equipment: ${equipment}\n\n${risk}\n\nThis would open maintenance scheduling and parts ordering interface.`);
                });
                
                item.style.cursor = 'pointer';
                item.addEventListener('mouseenter', () => {
                    item.style.borderLeftWidth = '6px';
                    item.style.transition = 'border-left-width 0.2s ease';
                });
                
                item.addEventListener('mouseleave', () => {
                    item.style.borderLeftWidth = '4px';
                });
            });

            // Simulate real-time updates for training progress
            simulateTrainingProgress();
        }

        function simulateTrainingProgress() {
            const progressBars = document.querySelectorAll('.progress-fill');
            const progressTexts = document.querySelectorAll('.progress-text');
            
            setInterval(() => {
                progressBars.forEach((bar, index) => {
                    const currentWidth = parseInt(bar.style.width) || 0;
                    if (currentWidth < 100) {
                        const newWidth = Math.min(currentWidth + Math.random() * 2, 100);
                        bar.style.width = newWidth + '%';
                        progressTexts[index].textContent = Math.round(newWidth) + '% Complete';
                        
                        // Update ETA
                        const etaElement = bar.closest('.training-item').querySelector('.training-eta');
                        const remainingTime = Math.max(0, Math.round((100 - newWidth) * 0.1));
                        etaElement.textContent = remainingTime > 0 ? `ETA: ${remainingTime} hours` : 'Completed!';
                    }
                });
            }, 5000); // Update every 5 seconds
        }

        function updateModelMetrics() {
            const metricValues = document.querySelectorAll('.metric-value');
            const metricTrends = document.querySelectorAll('.metric-trend');
            
            metricValues.forEach((value, index) => {
                // Simulate small fluctuations in model performance
                const currentValue = parseFloat(value.textContent);
                const change = (Math.random() - 0.5) * 0.4; // ±0.2% change
                const newValue = Math.max(85, Math.min(99, currentValue + change));
                value.textContent = newValue.toFixed(1) + '%';
                
                // Update trend indicator
                const trend = metricTrends[index];
                if (change > 0) {
                    trend.className = 'metric-trend positive';
                    trend.textContent = '+' + Math.abs(change).toFixed(1) + '%';
                } else {
                    trend.className = 'metric-trend negative';
                    trend.textContent = '-' + Math.abs(change).toFixed(1) + '%';
                }
            });
        }

        // Sales Pipeline Functions
        function initializeSalesPipeline() {
            const dealCards = document.querySelectorAll('.deal-card');
            const pipelineStages = document.querySelectorAll('.pipeline-stage');
            
            // Add drag and drop functionality to deal cards
            dealCards.forEach(card => {
                card.draggable = true;
                
                card.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', card.dataset.dealId);
                    card.classList.add('dragging');
                });
                
                card.addEventListener('dragend', () => {
                    card.classList.remove('dragging');
                });
                
                // Add click interaction for deal details
                card.addEventListener('click', () => {
                    showDealDetails(card);
                });
                
                // Add hover effects for progress tracking
                card.addEventListener('mouseenter', () => {
                    card.classList.add('selected');
                });
                
                card.addEventListener('mouseleave', () => {
                    card.classList.remove('selected');
                });
            });
            
            // Add drop functionality to pipeline stages
            pipelineStages.forEach(stage => {
                stage.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    stage.classList.add('drag-over');
                });
                
                stage.addEventListener('dragleave', () => {
                    stage.classList.remove('drag-over');
                });
                
                stage.addEventListener('drop', (e) => {
                    e.preventDefault();
                    stage.classList.remove('drag-over');
                    
                    const dealId = e.dataTransfer.getData('text/plain');
                    const dealCard = document.querySelector(`[data-deal-id="${dealId}"]`);
                    const targetContainer = stage.querySelector('.deals-container');
                    
                    if (dealCard && targetContainer) {
                        // Move the deal card to the new stage
                        targetContainer.appendChild(dealCard);
                        
                        // Update deal progress based on stage
                        updateDealProgress(dealCard, stage.dataset.stage);
                        
                        // Update stage statistics
                        updateStageStats();
                        
                        // Show success notification
                        showNotification(`Deal moved to ${stage.querySelector('h4').textContent}`, 'success');
                    }
                });
            });
        }
        
        function updateDealProgress(dealCard, newStage) {
            const progressFill = dealCard.querySelector('.progress-fill');
            const progressText = dealCard.querySelector('.progress-text');
            
            const stageProgress = {
                'lead': { progress: 15, text: '15%' },
                'qualified': { progress: 35, text: '35%' },
                'proposal': { progress: 65, text: '65%' },
                'negotiation': { progress: 85, text: '85%' },
                'closed': { progress: 100, text: 'Won!' }
            };
            
            const stage = stageProgress[newStage];
            if (stage) {
                progressFill.style.width = stage.progress + '%';
                progressText.textContent = stage.text;
                
                if (newStage === 'closed') {
                    dealCard.classList.add('won');
                    progressFill.classList.add('won');
                }
            }
        }
        
        function updateStageStats() {
            const stages = document.querySelectorAll('.pipeline-stage');
            
            stages.forEach(stage => {
                const deals = stage.querySelectorAll('.deal-card');
                const dealCount = deals.length;
                let totalValue = 0;
                
                deals.forEach(deal => {
                    totalValue += parseInt(deal.dataset.value) || 0;
                });
                
                const countElement = stage.querySelector('.deal-count');
                const valueElement = stage.querySelector('.stage-value');
                
                if (countElement) {
                    countElement.textContent = `${dealCount} deals`;
                }
                
                if (valueElement) {
                    valueElement.textContent = `$${(totalValue / 1000).toFixed(0)}K`;
                }
            });
            
            // Update total pipeline metrics
            updatePipelineMetrics();
        }
        
        function updatePipelineMetrics() {
            const allDeals = document.querySelectorAll('.deal-card');
            let totalValue = 0;
            let activeDeals = 0;
            
            allDeals.forEach(deal => {
                const value = parseInt(deal.dataset.value) || 0;
                totalValue += value;
                if (!deal.classList.contains('won')) {
                    activeDeals++;
                }
            });
            
            const avgDealSize = activeDeals > 0 ? totalValue / activeDeals : 0;
            
            // Update metric displays
            const totalValueElement = document.querySelector('.pipeline-metric .metric-value');
            const activeDealsElement = document.querySelectorAll('.pipeline-metric .metric-value')[1];
            const avgDealElement = document.querySelectorAll('.pipeline-metric .metric-value')[2];
            
            if (totalValueElement) {
                totalValueElement.textContent = `$${(totalValue / 1000000).toFixed(1)}M`;
            }
            
            if (activeDealsElement) {
                activeDealsElement.textContent = activeDeals;
            }
            
            if (avgDealElement) {
                avgDealElement.textContent = `$${(avgDealSize / 1000).toFixed(1)}K`;
            }
        }
        
        function showDealDetails(dealCard) {
            const companyName = dealCard.querySelector('.company-name').textContent;
            const dealValue = dealCard.querySelector('.deal-value').textContent;
            const contactInfo = dealCard.querySelector('.contact-info').textContent;
            const progress = dealCard.querySelector('.progress-text').textContent;
            
            const details = `
                Company: ${companyName}
                Value: ${dealValue}
                Contact: ${contactInfo}
                Progress: ${progress}
                
                Actions:
                • Schedule follow-up call
                • Send proposal
                • Update deal notes
                • Set reminder
            `;
            
            alert(details);
            console.log('Deal Details:', {
                company: companyName,
                value: dealValue,
                contact: contactInfo,
                progress: progress
            });
        }
        
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                background: ${type === 'success' ? '#d4edda' : '#f8d7da'};
                color: ${type === 'success' ? '#155724' : '#721c24'};
                border: 1px solid ${type === 'success' ? '#c3e6cb' : '#f5c6cb'};
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 1000;
                font-size: 14px;
                font-weight: 500;
                transition: all 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        function animatePipelineMetrics() {
            const metrics = document.querySelectorAll('.pipeline-metric');
            
            metrics.forEach((metric, index) => {
                setTimeout(() => {
                    metric.style.opacity = '0';
                    metric.style.transform = 'translateY(20px)';
                    
                    setTimeout(() => {
                        metric.style.transition = 'all 0.5s ease';
                        metric.style.opacity = '1';
                        metric.style.transform = 'translateY(0)';
                    }, 100);
                }, index * 200);
            });
        }

        // Country Functions
        function loadCountries() {
            const selector = document.getElementById('country-selector');
            if (!selector) return;
            
            fetch('/api/countries')
                .then(response => response.json())
                .then(data => {
                    // Reset and add default option
                    selector.innerHTML = '';
                    const allOption = document.createElement('option');
                    allOption.value = '';
                    allOption.textContent = 'All Country';
                    allOption.selected = true;
                    selector.appendChild(allOption);
                    
                    // Add country options
                    data.forEach(country => {
                        const option = document.createElement('option');
                        option.value = country.id ?? country.name;
                        option.textContent = country.name ?? 'Unknown';
                        selector.appendChild(option);
                    });
                    
                    // Add event listener for selection changes
                    selector.addEventListener('change', (e) => {
                        const selected = data.find(c => (c.id ?? c.name) == e.target.value);
                        const name = selected?.name || 'All Country';
                        console.log('Selected Country:', name);
                        showNotification(`Filtered by ${name}`, 'success');
                    });
                })
                .catch(error => {
                    console.error('Error loading countries:', error);
                });
        }

        // Customer Group Functions
        function loadCustomerGroups() {
            console.log('Loading customer groups...');
            const selector = document.getElementById('customer-group-selector');
            if (!selector) {
                console.error('Customer group selector not found!');
                return;
            }
            
            fetch('/api/customer-groups')
                .then(response => response.json())
                .then(data => {
                    console.log('Customer groups data received:', data);
                    // Reset and add default option
                    selector.innerHTML = '';
                    const defaultOption = document.createElement('option');
                    defaultOption.value = '';
                    defaultOption.textContent = 'Select Customer Group';
                    defaultOption.selected = true;
                    selector.appendChild(defaultOption);
                    
                    // Add customer group options
                    data.forEach(group => {
                        const option = document.createElement('option');
                        option.value = group.id ?? group.name;
                        option.textContent = group.name ?? 'Unknown';
                        option.title = group.description ?? '';
                        selector.appendChild(option);
                    });
                    
                    // Add event listener for selection changes
                    selector.addEventListener('change', (e) => {
                        const selected = data.find(g => (g.id ?? g.name) == e.target.value);
                        const name = selected?.name || 'All Customer Groups';
                        console.log('Selected Customer Group:', name);
                        showNotification(`Filtered by ${name}`, 'success');
                    });
                })
                .catch(error => {
                    console.error('Error loading customer groups:', error);
                });
        }

        // Financial Year Functions
        function loadFinancialYears() {
            const selector = document.getElementById('financial-year-selector');
            
            fetch('/api/financial-years')
                .then(response => response.json())
                .then(data => {
                    // Clear loading option
                    selector.innerHTML = '';
                    
                    // Add financial year options
                    data.forEach(fy => {
                        const option = document.createElement('option');
                        option.value = fy.id;
                        option.textContent = fy.name;
                        
                        // Mark active financial year as selected
                        if (fy.is_active) {
                            option.selected = true;
                        }
                        
                        selector.appendChild(option);
                    });
                    
                    // Add event listener for selection changes
                    selector.addEventListener('change', (e) => {
                        const selectedFY = data.find(fy => fy.id == e.target.value);
                        if (selectedFY) {
                            console.log('Selected Financial Year:', selectedFY.name);
                            // Here you can add logic to filter dashboard data based on selected FY
                            showNotification(`Switched to ${selectedFY.name}`, 'success');
                        }
                    });
                })
                .catch(error => {
                    console.error('Error loading financial years:', error);
                    selector.innerHTML = '<option value="">Error loading years</option>';
                });
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', () => {
            console.log('ZXY Unified Dashboard Loaded');
            loadFinancialYears();
            loadCountries();
            loadCustomerGroups();
            updateKPIs();
            initializeFunnel();
            initializeBubbleChart();
            initializeAIInsights();
            initializeSalesPipeline();
            
            // Animate bubbles after a short delay
            setTimeout(() => {
                animateBubbles();
                animatePipelineMetrics();
            }, 1000);

            // Update model metrics every 30 seconds
            setInterval(updateModelMetrics, 30000);
        });
    </script>
</body>
</html>